(this["webpackJsonpreact-movie"]=this["webpackJsonpreact-movie"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},25:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(4),r=c.n(i),a=c(5),l=c.n(a),o=c(6),j=c(2);function u(e){return{type:"SET_LIST_MOVIE",listMovie:e}}function d(e,t,c,n){return{type:"SET_REQUEST_URL",types:e,requestUrl:t,titleList:c,typeUrl:n}}function b(e){return{type:"SET_INFO_MOVIE",infoMovie:e}}c(22),c(23);var O=c(0),m=function(e){var t=e.data,c=Object(j.b)(),n=t.rating?"":" hide",s=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://kinopoiskapiunofficial.tech/api/v2.2/films/",n={"X-API-KEY":"943156f1-51e2-4bba-9657-e25705632abd"},e.next=4,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/"+t,{headers:n});case 4:return s=e.sent,e.next=7,s.json();case 7:i=e.sent,c(b(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"item",onClick:function(){return s(t.filmId)},children:Object(O.jsxs)("div",{className:"item_wrap",children:[Object(O.jsxs)("div",{className:"img",children:[Object(O.jsx)("span",{className:"rating"+n,children:t.rating}),Object(O.jsx)("img",{src:t.posterUrlPreview,alt:""})]}),Object(O.jsx)("div",{className:"title",children:t.nameRu}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("span",{className:"year",children:t.year}),Object(O.jsx)("span",{className:"genres",children:t.genres[0]?t.genres[0].genre:""})]})]})})},f=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.infoMovie})),c=document.querySelector("main"),n=function(){e({type:"HIDE_SHOW_MODAL"})};return r.a.createPortal(Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"modal_box",children:Object(O.jsxs)("div",{className:"modal_wrap",children:[Object(O.jsx)("div",{className:"close",onClick:n,children:"x"}),Object(O.jsxs)("div",{className:"modal_info",children:[Object(O.jsx)("div",{className:"img",children:Object(O.jsx)("img",{src:t.posterUrl,alt:t.nameRu})}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("div",{className:"title",children:t.nameRu}),Object(O.jsxs)("div",{className:"item date",children:["\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430: ",t.year]}),Object(O.jsxs)("div",{className:"item countries",children:["\u0421\u0442\u0440\u0430\u043d\u0430: ",t.countries.map((function(e){return e.country})).join(", ")]}),Object(O.jsxs)("div",{className:"item genres",children:["\u0416\u0430\u043d\u0440: ",t.genres.map((function(e){return e.genre})).join(", ")]}),Object(O.jsxs)("div",{className:"item slogan",children:["\u0421\u043b\u043e\u0433\u0430\u043d: ",t.slogan]}),Object(O.jsxs)("div",{className:"item time",children:["\u0412\u0440\u0435\u043c\u044f: ",t.filmLength," \u043c\u0438\u043d."]})]})]}),Object(O.jsxs)("div",{className:"desc",children:[Object(O.jsx)("div",{className:"title",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),t.description]})]})}),Object(O.jsx)("div",{className:"modal_bg",onClick:n})]}),c)},p=function(){var e=Object(j.c)((function(e){return e.titleList})),t=Object(j.c)((function(e){return e.listMovie})),c=Object(j.c)((function(e){return e.showInfoModal}));return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"listMovie",children:[Object(O.jsx)("div",{className:"title",children:e}),Object(O.jsx)("div",{className:"items",children:t.slice(0,20).map((function(e,t){return Object(O.jsx)(m,{data:e},t)}))})]}),function(e){if(e)return Object(O.jsx)(f,{})}(c)]})},h=function(){var e=Object(j.b)(),t={type:"films",url:"top?type=TOP_250_BEST_FILMS",title:"\u0422\u043e\u043f-20 \u043b\u0443\u0447\u0448\u0438\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"},c={type:"films",url:"top?type=TOP_100_POPULAR_FILMS",title:"\u0422\u043e\u043f-20 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"},n={type:"films",url:"top?type=TOP_AWAIT_FILMS",title:"\u0422\u043e\u043f-20 \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"};return Object(O.jsx)("div",{className:"listTops",children:Object(O.jsxs)("div",{className:"items",children:[Object(O.jsx)("button",{className:"btn",onClick:function(){return e(d(t.type,t.url,t.title,2))},children:t.title}),Object(O.jsx)("button",{className:"btn",onClick:function(){return e(d(c.type,c.url,c.title,2))},children:c.title}),Object(O.jsx)("button",{className:"btn",onClick:function(){return e(d(n.type,n.url,c.title,2))},children:c.title})]})})},v=function(){var e=Object(j.b)();return Object(O.jsx)("div",{className:"form_box",children:Object(O.jsx)("div",{className:"line",children:Object(O.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onChange:function(t){t.preventDefault(),e(d("films","search-by-keyword?keyword="+t.target.value,"\u041f\u043e\u0438\u0441\u043a:",1))}})})})},x=function(){var e,t=Object(j.b)(),c=Object(j.c)((function(e){return e.typesList})),s=Object(j.c)((function(e){return e.listMovie})),i=Object(j.c)((function(e){return e.typeUrl})),r=Object(j.c)((function(e){return e.requestUrl})),a=function(){var e=Object(o.a)(l.a.mark((function e(c,n,s){var i,r,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={"X-API-KEY":"943156f1-51e2-4bba-9657-e25705632abd"},e.t0=s,e.next=1===e.t0?4:2===e.t0?6:8;break;case 4:return i="https://kinopoiskapiunofficial.tech/api/v2.1/films/",e.abrupt("break",11);case 6:return i="https://kinopoiskapiunofficial.tech/api/v2.2/films/",e.abrupt("break",11);case 8:return i="https://kinopoiskapiunofficial.tech/api/v2.1/films/",console.log("\u0423\u043f\u0441..."),e.abrupt("break",11);case 11:return e.next=13,fetch(i+c,{headers:r});case 13:return a=e.sent,e.next=16,a.json();case 16:o=e.sent,t(u(o[n]));case 18:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){a(r,c,i)}),[r]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("header",{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"header",children:Object(O.jsxs)("div",{className:"title",children:["\u041f\u043e\u0438\u0441\u043a",Object(O.jsx)("span",{className:"red",children:"\u043a\u0438\u043d\u043e"})]})})})}),Object(O.jsx)("main",{children:Object(O.jsxs)("article",{className:"container",children:[Object(O.jsx)(v,{}),Object(O.jsx)(h,{}),(e=s,Object.keys(e).length?Object(O.jsx)(p,{}):Object(O.jsx)("div",{children:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}))]})}),Object(O.jsx)("footer",{children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"footer",children:Object(O.jsxs)("div",{className:"copy",children:["\xa9Jenjarus ",Object(O.jsx)("span",{className:"year",children:"2077"})]})})})})]})},N=c(10),y=c(3),g={listMovie:[],titleList:"\u0422\u043e\u043f 20 \u043b\u0443\u0447\u0448\u0438\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432",typesList:"films",typeUrl:2,requestUrl:"top?type=TOP_250_BEST_FILMS",infoMovie:{filmId:0,rating:"",posterUrl:"",nameRu:"",year:"",slogan:"",filmLength:"",description:"",genres:[{genre:""}],countries:[{country:""}]},showInfoModal:!1};var _=Object(N.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_MOVIE":return Object(y.a)(Object(y.a)({},e),{},{listMovie:t.listMovie});case"SET_REQUEST_URL":return Object(y.a)(Object(y.a)({},e),{},{typesList:t.types,requestUrl:t.requestUrl,titleList:t.titleList,typeUrl:t.typeUrl});case"SET_INFO_MOVIE":return Object(y.a)(Object(y.a)({},e),{},{infoMovie:t.infoMovie,showInfoModal:!0});case"HIDE_SHOW_MODAL":return Object(y.a)(Object(y.a)({},e),{},{showInfoModal:!1});default:return e}}));r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(j.a,{store:_,children:Object(O.jsx)(x,{})})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.48f93d65.chunk.js.map